#!/usr/bin/env bash
# Reload gunicorn

# Find the process IDs of Gunicorn processes using pgrep
gunicorn_pids=$(pgrep gunicorn)

# Send a signal to the master process to gracefully reload
for pid in $gunicorn_pids; do
    echo "Reloading Gunicorn process with PID $pid..."
    kill -HUP "$pid"
done

echo "Gunicorn reloaded gracefully."

# Verify that Gunicorn processes have been restarted
echo "Verifying Gunicorn processes..."
pgrep gunicorn
